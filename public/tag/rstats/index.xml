<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>rstats | Dr. Emily Nordmann</title>
    <link>/tag/rstats/</link>
      <atom:link href="/tag/rstats/index.xml" rel="self" type="application/rss+xml" />
    <description>rstats</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Wed, 17 Mar 2021 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/img/me_2018</url>
      <title>rstats</title>
      <link>/tag/rstats/</link>
    </image>
    
    <item>
      <title>Drag Race UK</title>
      <link>/post/drag-race-uk/</link>
      <pubDate>Wed, 17 Mar 2021 00:00:00 +0000</pubDate>
      <guid>/post/drag-race-uk/</guid>
      <description>
&lt;link href=&#34;/rmarkdown-libs/anchor-sections/anchor-sections.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;/rmarkdown-libs/anchor-sections/anchor-sections.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;This analysis uses the package rtweet to collect tweets containing the #DragRaceUK hashtag - there is a good tutorial &lt;a href=&#34;https://rtweet.info/&#34;&gt;here&lt;/a&gt; if you want more information.&lt;/p&gt;
&lt;p&gt;First, load the relevant packages, download the tweets, and clean it up a little.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(rtweet)
library(tidytext)
library(tidyverse)
library(gridExtra)
library(lubridate)

# get tweets with the #DragRaceUK and #Team hashtags

tweets &amp;lt;- search_tweets(&amp;quot;#DragRaceUK OR #TeamLawrence OR #TeamBimini OR #TeamEllie OR #TeamTayce&amp;quot;, n = 18000, include_rts = FALSE)

dat &amp;lt;- tweets %&amp;gt;%
  mutate(text = str_replace_all(text, &amp;quot;[^\x01-\x7F]&amp;quot;, &amp;quot;&amp;quot;),
         text = str_replace_all(text, &amp;quot;#DragRaceUK&amp;quot;, &amp;quot;&amp;quot;),
         text = str_replace_all(text, &amp;quot;DragRace&amp;quot;, &amp;quot;&amp;quot;),
         text = str_replace_all(text, &amp;quot;dragrace&amp;quot;, &amp;quot;&amp;quot;),
         text = str_replace_all(text, &amp;quot;\\.|[[:digit:]]+&amp;quot;, &amp;quot;&amp;quot;),
         text = str_replace_all(text, &amp;quot;https|amp|tco&amp;quot;, &amp;quot;&amp;quot;))%&amp;gt;%
  select(created_at, text)%&amp;gt;%
  mutate(tweet = row_number())&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now, use tidy text tools to separate the words.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# create tidy text

dat_token &amp;lt;- dat %&amp;gt;%  
  unnest_tokens(word, text) %&amp;gt;%
  anti_join(stop_words, by = &amp;quot;word&amp;quot;)

# convert tidy text back to wide so that all in lower case etc.

dat_lower &amp;lt;- dat_token %&amp;gt;%
  group_by(tweet) %&amp;gt;%
  summarise(text = str_c(word, collapse = &amp;quot; &amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## `summarise()` ungrouping output (override with `.groups` argument)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# add in column to say if each queen mentioned in tweet

dat_lower &amp;lt;- dat_lower %&amp;gt;% 
  mutate(lawrence = case_when(str_detect(text, &amp;quot;.lawrence&amp;quot;) ~ TRUE, TRUE ~ FALSE),
         ellie = case_when(str_detect(text, &amp;quot;.ellie&amp;quot;) ~ TRUE, TRUE ~ FALSE),
         tayce = case_when(str_detect(text, &amp;quot;.tayce&amp;quot;) ~ TRUE, TRUE ~ FALSE),
         bimini = case_when(str_detect(text, &amp;quot;.bimini&amp;quot;) ~ TRUE, TRUE ~ FALSE)
  )

# create tidy text with the mention columns

dat_mentions &amp;lt;- dat_lower %&amp;gt;%  
  unnest_tokens(word, text) %&amp;gt;%
  anti_join(stop_words, by = &amp;quot;word&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The first plot looks at the raw number of tweets that mention each Queen. This isn’t a perfect measure because it relies upon people on Twitter spelling the names correctly and people on the internet can’t spell.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat_token %&amp;gt;%
  filter(word %in% c(&amp;quot;lawrence&amp;quot;, &amp;quot;bimini&amp;quot;, &amp;quot;tayce&amp;quot;, &amp;quot;ellie&amp;quot;))%&amp;gt;%
  count(word, sort = TRUE) %&amp;gt;%
  head(20) %&amp;gt;%
  mutate(word = str_to_title(word),
         word = reorder(word, n))%&amp;gt;%
  ggplot(aes(x = word, y = n, fill = word)) +
  geom_col(show.legend = FALSE) +
  coord_flip()+
  scale_y_continuous(name = &amp;quot;Number of tweets&amp;quot;)+
  scale_x_discrete(name = &amp;quot;Queens&amp;quot;) +
  theme_minimal() +
  scale_fill_viridis_d()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2021-03-17-drag-race-uk/index.en_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat_token %&amp;gt;%
  filter(word %in% c(&amp;quot;teamlawrence&amp;quot;, &amp;quot;teambimini&amp;quot;, &amp;quot;teamtayce&amp;quot;, &amp;quot;teamellie&amp;quot;))%&amp;gt;%
  count(word, sort = TRUE) %&amp;gt;%
  head(20) %&amp;gt;%
  mutate(word = str_to_title(word),
         word = reorder(word, n))%&amp;gt;%
  ggplot(aes(x = word, y = n, fill = word)) +
  geom_col(show.legend = FALSE) +
  coord_flip()+
  scale_y_continuous(name = &amp;quot;Number of tweets&amp;quot;)+
  scale_x_discrete(name = &amp;quot;Queens&amp;quot;) +
  theme_minimal() +
  scale_fill_viridis_d()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2021-03-17-drag-race-uk/index.en_files/figure-html/unnamed-chunk-4-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The next lot of code runs a sentiment analysis on the tweets that each Queen is mentioned in. Sentiment analyses using existing ratings of words (e.g., if they’re positive or negative) to give you a sense of whether the queen is being mentioned in a tweet that is overall positive or negative in tone. Again it’s not perfect, it can’t cope with slang (e.g., it will think that a sickening death drop is a bad thing), but it does have face validity.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# do a sentiment analysis for each queen

bimini &amp;lt;- dat_mentions %&amp;gt;%
  filter(bimini == &amp;quot;TRUE&amp;quot;)%&amp;gt;%
  inner_join(get_sentiments(&amp;quot;bing&amp;quot;))%&amp;gt;%
  count(index = tweet, sentiment) %&amp;gt;%
  spread(sentiment, n, fill = 0) %&amp;gt;%
  mutate(sentiment = positive - negative)%&amp;gt;%
  mutate(queen = &amp;quot;bimini&amp;quot;)

lawrence &amp;lt;- dat_mentions %&amp;gt;%
  filter(lawrence == &amp;quot;TRUE&amp;quot;)%&amp;gt;%
  inner_join(get_sentiments(&amp;quot;bing&amp;quot;))%&amp;gt;%
  count(index = tweet, sentiment) %&amp;gt;%
  spread(sentiment, n, fill = 0) %&amp;gt;%
  mutate(sentiment = positive - negative)%&amp;gt;%
  mutate(queen = &amp;quot;lawrence&amp;quot;)

tayce &amp;lt;- dat_mentions %&amp;gt;%
  filter(tayce == &amp;quot;TRUE&amp;quot;)%&amp;gt;%
  inner_join(get_sentiments(&amp;quot;bing&amp;quot;))%&amp;gt;%
  count(index = tweet, sentiment) %&amp;gt;%
  spread(sentiment, n, fill = 0) %&amp;gt;%
  mutate(sentiment = positive - negative)%&amp;gt;%
  mutate(queen = &amp;quot;tayce&amp;quot;)

ellie &amp;lt;- dat_mentions %&amp;gt;%
  filter(ellie == &amp;quot;TRUE&amp;quot;)%&amp;gt;%
  inner_join(get_sentiments(&amp;quot;bing&amp;quot;))%&amp;gt;%
  count(index = tweet, sentiment) %&amp;gt;%
  spread(sentiment, n, fill = 0) %&amp;gt;%
  mutate(sentiment = positive - negative)%&amp;gt;%
  mutate(queen = &amp;quot;ellie&amp;quot;)

# combine sentiment analysis for each queen into one tibble and then calculate total positive, negative
# and overall sentiment scores for each queen

dat_sentiment &amp;lt;- bind_rows(lawrence, ellie, bimini, tayce) %&amp;gt;%
  group_by(queen) %&amp;gt;%
  summarise(positive = sum(positive),
            negative = sum(negative),
            overall = sum(sentiment))%&amp;gt;%
  gather(positive:overall, key = type, value = score)%&amp;gt;%
  mutate(type = factor(type, levels = c(&amp;quot;positive&amp;quot;, &amp;quot;negative&amp;quot;, &amp;quot;overall&amp;quot;)))%&amp;gt;%
  mutate(queen = factor(queen, levels = c(&amp;quot;lawrence&amp;quot;, &amp;quot;ellie&amp;quot;, &amp;quot;bimini&amp;quot;, &amp;quot;tayce&amp;quot;)))

# display table of sentiment scores

tbl &amp;lt;- dat_sentiment %&amp;gt;%
  spread(type, score)%&amp;gt;%
  arrange(desc(overall))

grid.table(tbl)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2021-03-17-drag-race-uk/index.en_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# create plot of the sentiment scores by each queen, ordered by overall score

ggplot(dat_sentiment, aes(x = type, y = score, fill = type)) +
  stat_identity(geom = &amp;quot;bar&amp;quot;, position = &amp;quot;dodge&amp;quot;, show.legend = FALSE)+
  facet_wrap(~ queen, ncol = 3)+
  coord_flip()+
  scale_fill_manual(values = c(&amp;quot;positive&amp;quot; = &amp;quot;green&amp;quot;, &amp;quot;negative&amp;quot; = &amp;quot;red&amp;quot;, &amp;quot;overall&amp;quot; = &amp;quot;blue&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/2021-03-17-drag-race-uk/index.en_files/figure-html/unnamed-chunk-5-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Slave Voyages Data Visualisation</title>
      <link>/project/slave-voyages/</link>
      <pubDate>Wed, 08 Jul 2020 00:00:00 +0000</pubDate>
      <guid>/project/slave-voyages/</guid>
      <description>&lt;p&gt;This is a short tutorial on basic data visualisation in R covering scatterplots, boxplots, violin-plots, bar charts, and grouped data. It assumes basic R knowledge (e.g., how to run a function and load a package) but it does not assume any further programming ability.&lt;/p&gt;
&lt;p&gt;This tutorial was the result of a request by for anti-racism curriculum materials. The data used is from the Slave Voyages project. The Trans-Atlantic Slave Trade Database comprises 36,000 individual slaving expeditions between 1514 and 1866. This dataset is horrifying and so is the history contained within the graphs you will produce.&lt;/p&gt;
&lt;p&gt;This book is part of the 
&lt;a href=&#34;https://psyteachr.github.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;PsyTeachR series&lt;/a&gt; from the School of Psychology, University of Glasgow. Our materials are open-source and have a 
&lt;a href=&#34;https://creativecommons.org/licenses/by/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Creative Commons licence&lt;/a&gt; so you are free to reuse, remix, and adapt our work, with attribution.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;a href=&#34;https://emilynordmann.github.io/slavevoyagedata/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Intro to Data Viz book&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;a href=&#34;https://github.com/emilynordmann/slavevoyagedata&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub repository&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;a href=&#34;https://www.slavevoyages.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Slave Voyages website&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;The purpose of Open Educational Resources is to reduce unnecessary financial burden on students and to help share good practice. I make as many of my teaching materials open access as I can for these reasons, however, if you have found them helpful and are in a position to do so, please consider making a donation to 
&lt;a href=&#34;https://bbstem.co.uk/donations/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Black British Professionals in STEM&lt;/a&gt; or 
&lt;a href=&#34;https://prideinstem.org/shop/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Pride in STEM&lt;/a&gt; (currently by buying a badge).&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Level 1 Data Skills</title>
      <link>/project/l1-data-skills/</link>
      <pubDate>Tue, 07 Jul 2020 00:00:00 +0000</pubDate>
      <guid>/project/l1-data-skills/</guid>
      <description>&lt;p&gt;The Level 1 Data Skills course is intended for first year undergraduate psychology students who have no prior experience in programming. The course covers intro to R, data wrangling, visualisation, and descriptive statistics, underpinned by a focus on reproducibility.&lt;/p&gt;
&lt;p&gt;This book is part of the 
&lt;a href=&#34;https://psyteachr.github.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;PsyTeachR series&lt;/a&gt; from the School of Psychology, University of Glasgow. Our materials are open-source and have a 
&lt;a href=&#34;https://creativecommons.org/licenses/by/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Creative Commons licence&lt;/a&gt; so you are free to reuse, remix, and adapt our work, with attribution.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;a href=&#34;https://psyteachr.github.io/ug1-practical/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Level 1 Data Skills course book&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;a href=&#34;https://github.com/PsyTeachR/ug1-practical&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub repository&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;The purpose of Open Educational Resources is to reduce unnecessary financial burden on students and to help share good practice. I make as many of my teaching materials open access as I can for these reasons, however, if you have found them helpful and are in a position to do so, please consider making a donation to 
&lt;a href=&#34;https://bbstem.co.uk/donations/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Black British Professionals in STEM&lt;/a&gt; or 
&lt;a href=&#34;https://prideinstem.org/shop/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Pride in STEM&lt;/a&gt; (currently by buying a badge).&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MSc Conversion Data Skills &amp; Statistics</title>
      <link>/project/msc-conv/</link>
      <pubDate>Tue, 07 Jul 2020 00:00:00 +0000</pubDate>
      <guid>/project/msc-conv/</guid>
      <description>&lt;p&gt;The MSc data skills and statistics book is intended for MSc Conversion course psychology students who have no prior experience in programming or statistics and who come from incredibly varied academic backgrounds. The course covers intro to R, data wrangling, visualisation, and descriptive and inferential statistics (correlation, t-test, chi-square, ANOVA, regression, power and effect size), underpinned by a focus on reproducibility.&lt;/p&gt;
&lt;p&gt;This book is part of the 
&lt;a href=&#34;https://psyteachr.github.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;PsyTeachR series&lt;/a&gt; from the School of Psychology, University of Glasgow. Our materials are open-source and have a 
&lt;a href=&#34;https://creativecommons.org/licenses/by/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Creative Commons licence&lt;/a&gt; so you are free to reuse, remix, and adapt our work, with attribution.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;a href=&#34;https://psyteachr.github.io/msc-conv-odl/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MSc Data Skills and Statistics course book&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;a href=&#34;https://github.com/PsyTeachR/msc-conv-odl&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub repository&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;The purpose of Open Educational Resources is to reduce unnecessary financial burden on students and to help share good practice. I make as many of my teaching materials open access as I can for these reasons, however, if you have found them helpful and are in a position to do so, please consider making a donation to 
&lt;a href=&#34;https://bbstem.co.uk/donations/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Black British Professionals in STEM&lt;/a&gt; or 
&lt;a href=&#34;https://prideinstem.org/shop/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Pride in STEM&lt;/a&gt; (currently by buying a badge).&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
